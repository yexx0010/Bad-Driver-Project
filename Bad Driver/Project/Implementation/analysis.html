<html>
<style type="text/css">
    span.actor{
        font-variant:small-caps;
        font-size: 18
    }
</style>
<head>
    <title>idiotdrivers.com Database Analysis</title>
</head>
<body>
    <h1>idiotdrivers.com Database Analysis</h1>
        <p>Prepared For: David Brown</p>
        <p>CP363</p>
        <p>Date: January 29, 2013</p>
    <ol>
        <h2><li>Authors</li></h2>
            <ul>
                <li>Megan Budway, 081031930, budw1930@mylaurier.ca</li>
                <li>Erin Cramer, 070318680, cram8680@mylaurier.ca</li>
                <li>Matthew Hengeveld, 090327500, heng7500@mylaurier.ca</li>
                <li>Ronnie Mo, 100699390, moxx9390@mylaurier.ca</li>
                <li>Yulou Ye, 104160010, yexx0010@mylaurier.ca</li>
            </ul>
        <h2><li>Conventions</li></h2>
            <ol>
            <h3><li>Naming</li></h3>

                Use cases start with a capitalized letter. Subsequent words are also capitalized which signifies the start of the next word.
                <ul>
                    <li>Ex. SearchByTag, Login</li>
                </ul>
                Attributes are all lowercase, and start with a letter. Words are separated using an underscore.<br>
                <ul>
                    <li>Ex. comment, story_id</li>
                </ul>
                Operations are all lowercase, and start with a letter. Words are separated using an underscore. All operations end with a pair of parenthesis.<br>
                <ul>
                    <li>Ex. add_story(), edit_story()</li>
                </ul>

            <h3><li>Typography</li></h3>

                Attributes are printed in bold.<br>
                <ul>
                    <li>Ex. <strong>colour_id</strong></li>
                </ul>
                Actors are printed in <span class="actor">small capital letters</span>.<br>
                <ul>
                    <li>Ex. <span class="actor">user</span></li>
                </ul>
                Data types are printed in italics.<br>
                <ul>
                    <li>Ex. <em>string</em><br></li>
                </ul>
                Use cases are printed with an underline.<br>
                    <ul>
                        <li>Ex. <u>Login</u></li>
                    </ul>
            </ol>
        <h2><li>Introduction</li></h2>
            <p> This project is a database of people's experiences of bad drivers across Canada. This database features stories of bad drivers submitted by anyone who registers with the website. Location, make and model of car, and plate number, along with other details and a description of the incident, is all stored in the database, and is viewable by the general public. The website is to be moderated and maintained by privileged users in order to keep the content on topic, and appropriate. This analysis provides a summary of the project, as well as details of the efficient design of the database. The users, the possible actions of the user, and the data manipulated and generated by the user, are all listed and described in this document.</p>
        <h2><li>Problem Description</li></h2>
            <p> The number of drivers in Canada, and all over the world, is growing in vast, unnatural quantities. With the increased volume in traffic, drivers are becoming less concerned with the rules of the road, and more concerned with getting to their destination. Road rage, frustration and 'baby on board' signs are uncontrollably spewing out of people in every direction. The combination of allowing nearly anyone to possess a license and the resulting frustration caused by this fact, leads to only one painstaking outcome: people are bad drivers.  In an effort to expose these bad drivers, and potentially (but not likely) encourage drivers to be more responsible, this database allows users to submit their personal favourite stories of incidents involving other's bad driving as well as enjoy and learn from other's equally beneficial events. </p>
        <h2><li>Actors and Use Cases</li></h2>
            <p>Described below are both the actors and use cases for each actor. Diagram 1 represents each use case in UML format. There are two types of actors in this database: a <span class="actor">user</span> and an <span class="actor">administrator</span>. An <span class="actor">administrator</span> has every function of a <span class="actor">user</span> in addition to extra operations.
            <ol type="a">
                <h3><li>User</li></h3>

                        <p>A <span class="actor">user</span> is any person who wishes to better the driving community by reading about, submitting or commenting on "idiot drivers" stories.  A <span class="actor">user</span> may only update a story that is owned by them thereby maintaining the accuracy of the data. Over and beyond just simply reading the latest stories other users have posted, a user may also search for content based upon several critera which includes tag (which is essentially a keyword applied to a story), or location, or make and colour. In detail a <span class="actor">user</span>:</p>

                            <u>Login</u>
                            <ul>
                            <li>The <span class="actor">user</span> is authenticated to enable the use of <u>SubmitStory</u>, <u>EditStory</u> and <u>CommentOnStory</u> use cases.</li>
                            </ul>
                            <u>Logout</u>
                            <ul>
                                <li>Terminates the session of a logged-in <span class="actor">user</span> and prevents further use of <u>SubmitStory</u>, <u>EditStory</u> and <u>CommentOnStory</u> use cases.</li>
                            </ul>
                            <u>SubmitStory</u>
                            <ul>
                                <li>If the <span class="actor">user</span> has a story about an "idiot driver", they may submit one by filling out the appropriate fields in the web form.</li>
                            </ul>
                            <u>EditStory</u>
                            <ul>
                                <li>Allows the <span class="actor">user</span> to edit the information on a story submitted by the <span class="actor">user</span> (ie. themselves).</li>
                            </ul>
                            <u>CommentOnStory</u>
                            <ul>
                                <li>Allows the <span class="actor">user</span> to submit a comment on any story.</li>
                            </ul>
                            <u>SearchByTag</u>
                            <ul>
                                <li>Allows the <span class="actor">user</span> to find stories that appeal to them by searching a tag. A tag is simply a keyword that is applied to a story by the submitter.</li>
                            </ul>
                            <u>SearchByLocation</u>
                            <ul>
                                <li>Allows the <span class="actor">user</span> to search for stories by location.</li>
                            </ul>
                            <u>SearchByMakeAndColour</u>
                            <ul>
                                <li>Allows the <span class="actor">user</span> to search for stories by make (ie Honda, Toyota) and colour of the vehicle.</li>
                            </ul>

                <h3><li>Administrator</li></h3>

                        <p>An <span class="actor">administrator</span> is a moderator of the posted content. This person has the special ability of being able to remove any story or comment from the website. If a person is an <span class="actor">administrator</span>, they are also are a <span class="actor">user</span>. In particular: </p>

                        <u>RemoveStory</u>
                        <ul>
                            <li>Allows the <span class="actor">administrator</span> to remove a story. A story is removed when it is considered to be inappropriate, offensive or unrelated to the topic of the website (eg. spam).</li><br>
                        </ul>
                        <u>RemoveComment</u>
                        <ul>
                            <li>Allows the <span class="actor">administrator</span> to remove a comment on any story made by any user. A comment is removed when it is considered to be inappropriate, offensive or unrelated to the topic of the website (eg. spam).</li><br>
                        </ul>
            </ol>
            <figure>
                <img src="UseCases.svg">
                <figcaption>Diagram 1: UML diagram of use cases for the idiotdrivers.com Database</figcaption>
            </figure> <br>

        <h2><li>The Data</li></h2>
            <p>Here we discuss what data our database is storing, and explain why the less obvious pieces of data are being collected. The data involved in this database can be broken down into two broad categories:</p>
            <ol type="a">
                <h3><li>User Data</li></h3>
                <p>Each <span class="actor">user</span> who comes to the website and wishes to submit a story must have valid user account. We believe this feature is crucial because it then restricts editing access to the sole <span class="actor">user</span> who has posted the story. We do not want random <span class="actor">user</span> editing a story that is not their own.</p>
                <p><strong>account_id</strong>:<br>
                An unique <em>integer</em> identifier given to each <span class="actor">user</span>/<span class="actor">administrator</span>. This value cannot be null.<br>
                <strong>password</strong>:<br>
                A <em>string</em> created by each <span class="actor">user</span> required when logging in to the website to post or edit content. This value cannot be null.<br>
                <strong>rights_id</strong>:<br>
                An <em>integer</em> value that represents the permissions level for any <span class="actor">user</span>. This value cannot be null.<br>
                <strong>rights_desc</strong>:<br>
                A unique <em>string</em> describing the permission associated with a particular <strong>rights_id</strong>. This value cannot be null.<br>
                <strong>email_address</strong>:<br>
                A unique <em>string</em> the <span class="actor">user</span> will use to log into the website in combination with their <strong>password</strong>. This is a more user friendly approach for logins as opposed to expecting a <span class="actor">user</span> to remember a randomly generated key given by the database. This value cannot be null. A valid e-mail address must have an '@' symbol in it.
                <h3><li>Story Data</li></h3>
                <p>Once a <span class="actor">user</span> has created an account, they can then add stories to the database. The following is a list of data, all of which pertains to an individual story of an idiot driver.</p>
                <strong>story_id:</strong><br>
                A unique <em>integer</em> identifier given to each story posted. This value cannot be null.<br>
                <strong>story_title:</strong><br>
                A <em>string</em> containing the title/header of a user's story. This value cannot be null.<br>
                <strong>story_text:</strong><br>
                A <em>string</em> of text containing the details of the infraction that has occured. This value cannot be null.<br>
                <strong>make_id:</strong><br>
                A unique <em>integer</em> identifier associated to each vehicle model available. This value cannot be null.<br>
                <strong>make_name:</strong><br>
                A unique <em>string</em> describing the type of car that was involved in a story<br>
                <strong>colour_id:</strong><br>
                A unique <em>integer</em> identifier associated with an available <strong>colour_name</strong>. This value cannot be null.<br>
                <strong>colour_name:</strong><br>
                A unique <em>string</em> describing the colour of the vehicle being discussed in a story. This is most useful for <span class="actor">user</span> searches. For example, a <span class="actor">user</span> may want to view all stories involving silver vehicles because they think they are generally the worst drivers.<br>
                <strong>plate:</strong><br>
                A <em>string</em> containing the license plate of a vehicle involved in a story. Although perhaps a controversial piece of data to be stored, it is important for the idiot driver in a story to be able to recognize that they were indeed driving idiotically.<br>
                <strong>date_time:</strong><br>
                A <em>date</em> value containing the date and time that the story occured.<br>
                <strong>location:</strong><br>
                A <em>string</em> that contains the location in which the story took place. This location does not have any restrictions and can be set by the user to be a city, street, province, etc. For the intents and purposes of this project, it is unrealistic to be able to store every city, in every province, that someone may be writing about.<br>
                <strong>tag_id:</strong><br>
                A unique <em>integer</em> identifier associated to each <strong>tag_name</strong> available. This value cannot be null.<br>
                <strong>tag_name:</strong><br>
                A unique <em>string</em> containing a tag or keyword being applied to a story. A story may contain any number of tags (including none). This enables <span class="actor">users</span> to be able to search for stories that are of particular interest to them (ie. women drivers, visible minorities, etc.)<br>
                <strong>comment_id:</strong><br>
                A unique <em>integer</em> identifier given for each comment on a story. A <span class="actor">user</span> may comment multiple times on any given Story. This value cannot be null.<br>
                <strong>comment_text:</strong><br>
                A <em>string</em> of text containing a <span class="actor">user</span>'s comment in response to a particular story.</p>
            </ol>
            <h2><li>Data Dictionary</li></h2>
            <table border="1" cellpadding="5">
                <tr>
                    <th colspan="4">Attributes</th>
                </tr>
                <tr>
                    <th>Name</td>
                    <th>Data Type</td>
                    <th>Description</td>
                    <th>Constraints (if any)</td>
                </tr>
                <tr>
                    <td><strong>account_id</strong></td>
                    <td><em>integer</em></td>
                    <td>Identifer used for <span class="actor">user</span> account access.</td>
                    <td>Must be unique and cannot be null.</td>
                </tr>
                <tr>
                    <td><strong>colour_id</strong></td>
                    <td><em>integer</em></td>
                    <td>Identifier used for <strong>colour_name</strong>.</td>
                    <td>Must be unique and cannot be null.</td>
                </tr>
                <tr>
                    <td><strong>colour_name</strong></td>
                    <td><em>string</em></td>
                    <td>Colour of vehicle that can be used in a story.</td>
                    <td>Unique value in the Colour table and cannot be null.</td>
                </tr>
                <tr>
                    <td><strong>comment_id</strong></td>
                    <td><em>integer</em></td>
                    <td>Identifier used for <strong>comment_text</strong>.</td>
                    <td>Must be unique and cannot be null.</td>
                </tr>
                <tr>
                    <td><strong>comment_text</strong></td>
                    <td><em>string</em></td>
                    <td>A <span class="actor">user</span>'s comment on a story.</td>
                    <td>Cannot be null.</td>
                </tr>
                <tr>
                    <td><strong>date_time</strong></td>
                    <td><em>date/time</em></td>
                    <td>The date and time that the story occured.</td>
                    <td>Must be a valid date.</td>
                </tr>
                <tr>
                    <td><strong>email_address</strong></td>
                    <td><em>string</em></td>
                    <td>The e-mail address of a <span class="actor">user</span>.</td>
                    <td>Cannot be null and must have '@' in the string.</td>
                </tr>
                <tr>
                    <td><strong>location</strong></td>
                    <td><em>string</em></td>
                    <td>The place at which a story occured.</td>
                    <td>No restrictions.</td>
                </tr>
                <tr>
                    <td><strong>make_id</strong></td>
                    <td><em>integer</em></td>
                    <td>Identifier used for <strong>make_name</strong>.</td>
                    <td>Must be unique and cannot be null.</td>
                </tr>
                <tr>
                    <td><strong>make_name</strong></td>
                    <td><em>string</em></td>
                    <td>The make of the vehicle that can be used in a story.</td>
                    <td>Must be unique in the Make table and cannot be null.</td>
                </tr>
                <tr>
                    <td><strong>password</strong></td>
                    <td><em>string</em></td>
                    <td>Used by a <span class="actor">user</span> for login. </td>
                    <td>Cannot be null.</td>
                </tr>
                <tr>
                    <td><strong>plate</strong></td>
                    <td><em>string</em></td>
                    <td>The license plate of the vehicle involved in a story.</td>
                    <td>No restrictions.</td>
                </tr>
                <tr>
                    <td><strong>rights_id</strong></td>
                    <td><em>integer</em></td>
                    <td>Identifier used for <strong>rights_desc</strong>.</td>
                    <td>Must be unique and cannot be null.</td>
                </tr>
                <tr>
                    <td><strong>rights_desc</strong></td>
                    <td><em>string</em></td>
                    <td>Description of permission level for an account.</td>
                    <td>Cannot be null and must be unique with the Permissions table.</td>
                </tr>
                <tr>
                    <td><strong>story_id</strong></td>
                    <td><em>integer</em></td>
                    <td>Identifier used for a story.</td>
                    <td>Must be unique and cannot be null.</td>
                </tr>
                <tr>
                    <td><strong>story_text</strong></td>
                    <td><em>string</em></td>
                    <td>The content of a <span class="actor">user</span>'s story.</td>
                    <td>Cannot be null.</td>
                </tr>
                <tr>
                    <td><strong>story_title</strong></td>
                    <td><em>string</em></td>
                    <td>The title of a story.</td>
                    <td>Cannot be null.</td>
                </tr>
                <tr>
                    <td><strong>tag_id</strong></td>
                    <td><em>integer</em></td>
                    <td>Identifier for a <strong>tag_name</strong>.</td>
                    <td>Must be unique and cannot be null.</td>
                </tr>
                <tr>
                    <td><strong>tag_name</strong></td>
                    <td><em>string</em></td>
                    <td>Description of a tag.</td>
                    <td>Must be unique within the Tags table and cannot be null.</td>
                </tr>
            </table>
            <br>
            <table border="1" cellpadding="5">
                <tr>
                    <th colspan="2">Operations</th>
                </tr>
                <tr>
                    <th>Name</th>
                    <th>Description</th>
                </tr>
                <tr>
                    <td>add_comment()</td>
                    <td>Adds a comment against a story already stored in the database.</td>
                </tr>
                <tr>
                    <td>add_story()</td>
                    <td>Adds a story to the database.</td>
                </tr>
                <tr>
                    <td>delete_comment()</td>
                    <td>Deletes a comment currently in the database.</td>
                </tr>
                <tr>
                    <td>delete_story()</td>
                    <td>Deletes a story currently in the database.</td>
                </tr>
                <tr>
                    <td>get_user()</td>
                    <td>Returns user information used for login.</td>
                </tr>
                <tr>
                    <td>register_user()</td>
                    <td>Adds a new user to the database.</td>
                </tr>

                    <td>search()</td>
                    <td>Used to find particular pieces of data within the database. User controlled search criteria.</td>

                <tr>
                    <td>update_story()</td>
                    <td>Updates a story currently in the database.</td>
                </tr>

            </table>
            <h2><li>References</li></h2>
            <a href="http://bohr.wlu.ca/cp363/project/project_analysis.php">CP363 Project Analysis Description</a>
    </ol>


</body>
</html>








